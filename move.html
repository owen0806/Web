<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script>
        var key = null;
        function start(){
            var btn = document.getElementById("btn");
            btn.addEventListener("click", load_game, false);
        }

        function load_game(){
            var img = document.createElement("img");
            img.setAttribute("src", "doraemon.png");
            img.setAttribute("width", "100px");
            img.setAttribute("height", "100px");
            // img.setAttribute("position", "absolute");
            while(document.body.firstChild)
                document.body.removeChild(document.body.firstChild);
            document.body.appendChild(img);

            key = null;
            var x = img.offsetLeft, y = img.offsetTop;
            img.style.position = "absolute";
            var step = 100;
            document.addEventListener("keydown", keydown);
            document.addEventListener("keyup", keyup);
            setInterval(function(){
                if(key == 'w'){
                    y -= step;
                    img.style.top = y + "px";
                }
                else if(key == 'a'){
                    x -= step;
                    img.style.left = x + "px";
                }
                else if(key == 's'){
                    y += step;
                    img.style.top = y + "px";
                }
                else if(key == 'd'){
                    x += step;
                    img.style.left = x + "px";
                }
            }, 100);
        }

        function keydown(event){
            switch(event.key){
                case 'w':
                    key = 'w';
                    break;
                case 'a':
                    key = 'a';
                    break;
                case 's':
                    key = 's';
                    break;
                case 'd':
                    key = 'd';
                    break;
            }
        }

        function keyup(){
            key = null;
        }

        window.addEventListener("load", start, false);
    </script>
</head>
<body>
    <div>
        <input type="button" value="start" id="btn">
    </div>
</body>
</html>